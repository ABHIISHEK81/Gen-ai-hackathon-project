<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Personalized Career & Skills Advisor</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

<div class="container">
    <!-- Sidebar -->
    <div class="sidebar">
        <h2>üìä Advisor</h2>
        <nav>
            <a href="#infoBox" class="active">‚ÑπÔ∏è Info</a>
            <a href="#skills">üõ† Skills</a>
            <a href="#chartSection">üìà Chart</a>
            <a href="#suggestions">üí° Suggestions</a>
        </nav>
    </div>

    <!-- Main -->
    <div class="main">
        <header>
            <h1>Personalized Career & Skills Advisor</h1>
        </header>

        <!-- Info Box -->
        <div class="card" id="infoBox">
            <h3>Enter Your Information</h3>
            <input type="text" id="name" placeholder="Your Name">
            <input type="text" id="course" placeholder="Your Course/Field">
            <input type="text" id="goal" placeholder="Your Career Goal">
            <button onclick="saveUserInfo()">üíæ Save Info</button>
        </div>

        <!-- Skill Assessment -->
        <div class="card" id="skills">
            <h3>Skill Self-Assessment (%)</h3>
            <label>Technical Skills <input type="number" id="skillTech" min="0" max="100"></label>
            <label>Communication <input type="number" id="skillComm" min="0" max="100"></label>
            <label>Problem Solving <input type="number" id="skillProb" min="0" max="100"></label>
            <label>Leadership <input type="number" id="skillLead" min="0" max="100"></label>
            <label>Creativity <input type="number" id="skillCreat" min="0" max="100"></label>
            <button onclick="updateChart()">üìä Update Chart</button>
        </div>

        <!-- Chart -->
        <div class="card" id="chartSection">
            <h3>Skill Chart</h3>
            <canvas id="skillChart"></canvas>
            <h4 style="margin-top:15px;">Suggested Skills to Improve</h4>
            <ul id="suggestedSkills" class="suggested-skills"></ul>
        </div>

        <!-- Suggestions -->
        <div class="card" id="suggestions">
            <h3>Personalized Suggestions</h3>
            <p id="suggestionText">Fill in your skills to see suggestions.</p>
            <button onclick="downloadPDF()">üì• Download PDF Report</button>
        </div>
    </div>
</div>

<script>
let chart;
const learningResources = {
    "Technical": "https://www.coursera.org/browse/computer-science",
    "Communication": "https://www.coursera.org/learn/communication-skills",
    "Problem Solving": "https://www.edx.org/course/problem-solving-and-critical-thinking",
    "Leadership": "https://www.coursera.org/learn/leadership-development",
    "Creativity": "https://www.coursera.org/learn/creative-thinking-techniques-and-tools"
};

function saveUserInfo() {
    const userInfo = {
        name: document.getElementById("name").value,
        course: document.getElementById("course").value,
        goal: document.getElementById("goal").value
    };
    localStorage.setItem("userInfo", JSON.stringify(userInfo));
    alert("User info saved!");
}

function updateChart() {
    const skills = [
        parseInt(document.getElementById("skillTech").value) || 0,
        parseInt(document.getElementById("skillComm").value) || 0,
        parseInt(document.getElementById("skillProb").value) || 0,
        parseInt(document.getElementById("skillLead").value) || 0,
        parseInt(document.getElementById("skillCreat").value) || 0
    ];
    const labels = ['Technical', 'Communication', 'Problem Solving', 'Leadership', 'Creativity'];

    // Suggested skills with links
    let suggestions = [];
    labels.forEach((label, index) => {
        if (skills[index] < 60) {
            suggestions.push(label);
        }
    });
    document.getElementById("suggestedSkills").innerHTML = suggestions.length 
        ? suggestions.map(s => `<li><a href="${learningResources[s]}" target="_blank">${s} - Learn More</a></li>`).join('')
        : "<li>Great! All skills are above 60%</li>";

    // Chart update
    const ctx = document.getElementById('skillChart').getContext('2d');
    if (chart) chart.destroy();
    chart = new Chart(ctx, {
        type: 'radar',
        data: {
            labels: labels,
            datasets: [{
                label: 'Your Skills',
                data: skills,
                backgroundColor: 'rgba(199, 162, 124, 0.2)',
                borderColor: '#c7a27c',
                borderWidth: 2
            }]
        },
        options: {
            responsive: true,
            scales: { r: { suggestedMin: 0, suggestedMax: 100 } }
        }
    });

    // Suggestion Text
    document.getElementById("suggestionText").innerText =
        suggestions.length
        ? "Consider improving these skills: " + suggestions.join(", ")
        : "Excellent! You have strong skills in all areas.";
}

async function downloadPDF() {
    const { jsPDF } = window.jspdf;
    let doc = new jsPDF();
    let userInfo = JSON.parse(localStorage.getItem("userInfo")) || {};
    let suggestion = document.getElementById("suggestionText").innerText;

    doc.setFontSize(18);
    doc.text("Career & Skills Advisor Report", 10, 10);
    doc.setFontSize(12);
    doc.text(`Name: ${userInfo.name || "N/A"}`, 10, 30);
    doc.text(`Course/Field: ${userInfo.course || "N/A"}`, 10, 40);
    doc.text(`Career Goal: ${userInfo.goal || "N/A"}`, 10, 50);
    doc.text("Suggestion:", 10, 70);
    doc.text(suggestion, 10, 80, { maxWidth: 180 });

    let chartCanvas = document.getElementById("skillChart");
    let chartImg = chartCanvas.toDataURL("image/png", 1.0);
    doc.addImage(chartImg, "PNG", 130, 20, 60, 60);

    doc.save("skills_report.pdf");
}
</script>

</body>
</html>